<basemodel:DockControlDisposable  
             xmlns:basemodel="clr-namespace:LYTest.WPF.Model" 
             x:Class="LYTest.WPF.View.View_PowerControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:LYTest.WPF.View" 
             xmlns:Controls1="clr-namespace:LYTest.WPF.Controls" 
             xmlns:local1="clr-namespace:LYTest.ViewModel.PowerControl;assembly=LYTest.ViewModel"
             mc:Ignorable="d" 
             Foreground="{DynamicResource 字体颜色标准}"
             d:DesignHeight="600" d:DesignWidth="850">

    <basemodel:DockControlDisposable.Resources>
        <local1:PowerControlModel x:Key="PowerControlViewModel"/>
        <Style x:Key="CheckBoxSwitchStyle" TargetType="CheckBox">
            <Setter Property="IsChecked" Value="False"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontFamily" Value="/MESToolIntegration;component/Fonts/#iconfont"/>
            <Setter Property="Background" Value="#FFFFFF"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <Border Width="54" Name="CheckTrueBG" Height="22" BorderThickness="1" Background="#FFFFFF"  CornerRadius="10" BorderBrush="#ACACAC" >
                            <Grid>
                                <Border BorderThickness="1" Background="#ACACAC" x:Name="border" Width="20" Height="20" CornerRadius="9" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0"  >
                                    <Border.RenderTransform>
                                        <TranslateTransform  X="1"/>
                                    </Border.RenderTransform>
                                </Border>
                                <TextBlock x:Name="txt" Text="{TemplateBinding Content}" FontFamily="iconfont"  FontSize="{TemplateBinding FontSize}" Margin="7,3.5,0,3" VerticalAlignment="Stretch" Foreground="#ACACAC" HorizontalAlignment="Left" d:LayoutOverrides="Height" >
                                    <TextBlock.RenderTransform>
                                        <TranslateTransform   X="17"></TranslateTransform>
                                    </TextBlock.RenderTransform>
                                </TextBlock>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter Property="Background" TargetName="CheckTrueBG"  Value="#5FB878"/>
                                <Setter Property="Foreground" TargetName="txt"  Value="#FFFFFF"/>
                                <Setter Property="Background" TargetName="border"  Value="#FFFFFF"/>
                                <Setter Property="Text" TargetName="txt"  Value="{Binding Tag,RelativeSource={RelativeSource TemplatedParent}}"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="border" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" To="32" Duration="00:00:0.2"/>
                                            <DoubleAnimation Storyboard.TargetName="txt" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" To="0" Duration="00:00:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="border" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" To="0" Duration="00:00:0.2"/>
                                            <DoubleAnimation Storyboard.TargetName="txt" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" To="17" Duration="00:00:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="False">
                                <Setter Property="Text" TargetName="txt" Value="{Binding Content,RelativeSource={RelativeSource TemplatedParent}}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </basemodel:DockControlDisposable.Resources>
    <Grid >
        <Grid.RowDefinitions>
            <RowDefinition Height="400"/>
            <RowDefinition/>
        </Grid.RowDefinitions>


        <Grid Background="#fcfcfc"  DataContext="{StaticResource PowerControlViewModel}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>


            <Grid Grid.Row="0" >
                <Grid.RowDefinitions>
                    <RowDefinition  Height="40"/>
                    <RowDefinition/>
                    <RowDefinition  Height="40"/>
                </Grid.RowDefinitions>
                <StackPanel Orientation="Horizontal"  Margin="30 5 10 0"  >
                    <Controls1:ControlEnumComboBox    Width="100"   Height="25"  EnumName="CLFS"  Style="{DynamicResource StyleComboBox}"
                                                      SelectedValue="{Binding Setting,Mode=TwoWay}" />

                    <Controls1:ControlEnumComboBox    Width="100"   Height="25"  EnumName="PowerFactor"  Style="{DynamicResource StyleComboBox}"
                                                      SelectedValue="{Binding GLYS,Mode=TwoWay}" Margin="10 0 10 0" />
                    <Controls1:ControlEnumComboBox    Width="100"   Height="25"  EnumName="PowerDirection"  Style="{DynamicResource StyleComboBox}"
                                                      SelectedValue="{Binding GLFX,Mode=TwoWay}" Margin="0 0 10 0" />
                    <TextBlock Text="频率:" VerticalAlignment="Center"/>
                    <TextBox Width="50" VerticalAlignment="Center"  Text="{Binding Freq,Mode=TwoWay}"/>
                    <CheckBox Content="逆向序" VerticalAlignment="Center"  Margin="10 0 10 0"   IsChecked="{Binding IsReverseOrder,Mode=TwoWay}" />
                </StackPanel>
                <StackPanel Orientation="Vertical"  Margin="5"   Grid.Row="1"   >
                    <StackPanel.Resources>
                        <Style TargetType="TextBlock">
                            <Setter Property="FontSize" Value="12"/>
                            <Setter Property="TextAlignment" Value="Center"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                        </Style>
                    </StackPanel.Resources>
                    <StackPanel Orientation="Horizontal" Margin="3">
                        <TextBlock Text="U:" Margin="5" Width="30"/>
                        <CheckBox Name="ALLU" HorizontalAlignment="Left" BorderThickness="1,1,0,1" Style="{DynamicResource CheckBoxSwitchStyle}" VerticalAlignment="Center"  Content="OFF" Tag="ON" Click="ALLU_Click"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="3">
                        <TextBlock Text="UA:" Margin="5" Width="30"/>
                        <CheckBox Name="ALLUa" HorizontalAlignment="Left" IsChecked="{Binding IsUA ,Mode=TwoWay}" BorderThickness="1,1,0,1" Style="{DynamicResource CheckBoxSwitchStyle}" VerticalAlignment="Center"  Content="OFF" Tag="ON" />
                        <TextBlock Text="电压：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding Ua,Mode=TwoWay,  StringFormat=\{0:F3\}}"/>
                        <TextBlock Text="相位：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding PhaseUa,Mode=TwoWay,  StringFormat=\{0:F3\}}"/>
                        <CheckBox Content="统一设置" VerticalAlignment="Center"  Margin="15 0 10 0"   IsChecked="{Binding IsAllCheck,Mode=TwoWay}" />
                    </StackPanel>

                    <StackPanel Orientation="Horizontal"  Margin="3">
                        <TextBlock Text="UB:" Margin="5" Width="30"/>
                        <CheckBox Name="ALLUb" HorizontalAlignment="Left" IsChecked="{Binding IsUB ,Mode=TwoWay}" BorderThickness="1,1,0,1" Style="{DynamicResource CheckBoxSwitchStyle}" VerticalAlignment="Center"  Content="OFF" Tag="ON" />
                        <TextBlock Text="电压：" Margin="15,0,0,0" />
                        <TextBox Width="100" Text="{Binding Ub,Mode=TwoWay,  StringFormat=\{0:F3\}}"/>
                        <TextBlock Text="相位：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding PhaseUb,Mode=TwoWay,  StringFormat=\{0:F3\}}"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="3" >
                        <TextBlock Text="UC:" Margin="5" Width="30"/>
                        <CheckBox Name="ALLUc" HorizontalAlignment="Left" IsChecked="{Binding IsUC ,Mode=TwoWay}" BorderThickness="1,1,0,1" Style="{DynamicResource CheckBoxSwitchStyle}" VerticalAlignment="Center"  Content="OFF" Tag="ON" />
                        <TextBlock Text="电压：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding Uc,Mode=TwoWay,  StringFormat=\{0:F3\}}"/>
                        <TextBlock Text="相位：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding PhaseUc,Mode=TwoWay,  StringFormat=\{0:F3\}}"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="3">
                        <TextBlock Text="I:" Margin="5" Width="30"/>
                        <CheckBox Name="ALLI" HorizontalAlignment="Left" BorderThickness="1,1,0,1" Style="{DynamicResource CheckBoxSwitchStyle}" VerticalAlignment="Center"  Content="OFF" Tag="ON" Click="ALLI_Click"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="3">
                        <TextBlock Text="IA:" Margin="5" Width="30"/>
                        <CheckBox Name="ALLIa" HorizontalAlignment="Left" IsChecked="{Binding IsIA ,Mode=TwoWay}" BorderThickness="1,1,0,1" Style="{DynamicResource CheckBoxSwitchStyle}" VerticalAlignment="Center"  Content="OFF" Tag="ON" />
                        <TextBlock Text="电流：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding Ia,Mode=TwoWay,  StringFormat=\{0:F4\}}"/>
                        <TextBlock Text="相位：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding PhaseIa,Mode=TwoWay,  StringFormat=\{0:F4\}}"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="3"  >
                        <TextBlock Text="IB:" Margin="5" Width="30"/>
                        <CheckBox Name="ALLIb" HorizontalAlignment="Left" IsChecked="{Binding IsIB ,Mode=TwoWay}" BorderThickness="1,1,0,1" Style="{DynamicResource CheckBoxSwitchStyle}" VerticalAlignment="Center"  Content="OFF" Tag="ON" />
                        <TextBlock Text="电流：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding Ib,Mode=TwoWay,  StringFormat=\{0:F4\}}"/>
                        <TextBlock Text="相位：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding PhaseIb,Mode=TwoWay,  StringFormat=\{0:F4\}}"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="3" >
                        <TextBlock Text="IC:" Margin="5" Width="30"/>
                        <CheckBox Name="ALLIc" HorizontalAlignment="Left" IsChecked="{Binding IsIC ,Mode=TwoWay}" BorderThickness="1,1,0,1" Style="{DynamicResource CheckBoxSwitchStyle}" VerticalAlignment="Center"  Content="OFF" Tag="ON" />
                        <TextBlock Text="电流：" Margin="15,0,0,0"/>
                        <TextBox Width="100" Text="{Binding Ic,Mode=TwoWay,  StringFormat=\{0:F4\}}"/>
                        <TextBlock Text="相位：" Margin="15,0,0,0"  />
                        <TextBox Width="100" Text="{Binding PhaseIc,Mode=TwoWay,  StringFormat=\{0:F4\}}" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="3" >
                        <CheckBox Content="同时切换标准表输出脉冲" Margin="42,3,0,0" IsChecked="{Binding StmPulseSwitch}" />
                    </StackPanel>
                    </StackPanel>


                <StackPanel Orientation="Horizontal" Grid.Row="2"  Margin="0 0 0 5"   HorizontalAlignment="Center">
                    <StackPanel.Resources>
                        <Style TargetType="Button">
                            <Setter Property="Width" Value="80" />
                            <Setter Property="Height" Value="30"/>
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="Background" Value="#2ea400"/>
                            <Setter Property="FontSize" Value="12"/>
                            <Setter Property="FontSize" Value="12"/>
                            <Setter Property="Margin" Value="10,5,10,0"/>
                        </Style>
                    </StackPanel.Resources>
                    <Button Content="升  源" CommandParameter="PowerOnFree"  Command="{Binding LocalCommand}" />
                    <Button Content="关  源" CommandParameter="PowerOffFree"  Command="{Binding LocalCommand}"/>
                </StackPanel>


            </Grid>

            <GroupBox Grid.Column="1" >
                <GroupBox.Header>
                    <StackPanel Orientation="Horizontal">
                        <RadioButton Content="电流幅值" IsChecked="True" CommandParameter="SetAdjustCurrent"  Command="{Binding LocalCommand}" Margin="3"/>
                        <RadioButton x:Name="AdjustPhiI" Content="电流相位"  CommandParameter="SetAdjustCurrentAngle"  Command="{Binding LocalCommand}" Margin="3"/>
                        <RadioButton Content="电压幅值 调节"  CommandParameter="SetAdjustVoltage"  Command="{Binding LocalCommand}" Margin="3"/>
                    </StackPanel>
                </GroupBox.Header>
                <GroupBox.Resources>
                    <Style TargetType="Button">
                        <Setter Property="Width" Value="80" />
                        <Setter Property="Height" Value="30"/>
                        <Setter Property="HorizontalAlignment" Value="Center"/>
                        <Setter Property="VerticalAlignment" Value="Center"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="Background" Value="#2ea400"/>
                        <Setter Property="FontSize" Value="12"/>
                        <Setter Property="FontSize" Value="12"/>
                        <Setter Property="Margin" Value="0,5,10,0"/>
                    </Style>

                </GroupBox.Resources>


                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="36"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Vertical"  VerticalAlignment="Center"  HorizontalAlignment="Center" Margin="0,3">
                        <TextBlock Grid.Row="0" Text="{Binding ZoomTips2 ,Mode=TwoWay}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Row="0" Text="{Binding ZoomTips ,Mode=TwoWay}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </StackPanel>

                    <Grid Grid.Row="1">
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition Height="auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Orientation="Vertical" Visibility="{Binding ElementName=AdjustPhiI,Path=IsChecked,Converter={StaticResource NotBoolToVisibilityConverter}}">
                            <Button Content="↑ 0.01%"      CommandParameter="Add_001"  Command="{Binding LocalCommand}"/>
                            <Button Content="↑ 0.1%"    CommandParameter="Add_01"  Command="{Binding LocalCommand}"/>
                            <Button Content="↑ 1%" CommandParameter="Add_1"  Command="{Binding LocalCommand}"/>
                            <Button Content="↑ 10%" CommandParameter="Add_10"  Command="{Binding LocalCommand}"/>
                            <Button Content="120%" Margin="0,30,10,0" CommandParameter="Set_120"  Command="{Binding LocalCommand}"/>
                            <Button Content="80%" CommandParameter="Set_80"  Command="{Binding LocalCommand}"/>
                        </StackPanel>
                        <StackPanel Orientation="Vertical"  Grid.Column="1" Visibility="{Binding ElementName=AdjustPhiI,Path=IsChecked,Converter={StaticResource NotBoolToVisibilityConverter}}">
                            <Button Content="↓ 0.01%"   CommandParameter="Cut_001"  Command="{Binding LocalCommand}"/>
                            <Button Content="↓ 0.1%" CommandParameter="Cut_01"  Command="{Binding LocalCommand}"/>
                            <Button Content="↓ 1%" CommandParameter="Cut_1"  Command="{Binding LocalCommand}"/>
                            <Button Content="↓ 10%" CommandParameter="Cut_10"  Command="{Binding LocalCommand}"/>
                            <Button Content="100%" Margin="0,30,10,0" CommandParameter="Set_100"  Command="{Binding LocalCommand}"/>
                            <Button Content="60%"  CommandParameter="Set_60"  Command="{Binding LocalCommand}"/>
                        </StackPanel>

                        <StackPanel Orientation="Vertical" Visibility="{Binding ElementName=AdjustPhiI,Path=IsChecked,Converter={StaticResource BoolToVisibilityConverter}}">
                            <Button Content="↑ 0.0001"      CommandParameter="Add_001"  Command="{Binding LocalCommand}"/>
                            <Button Content="↑ 0.001"    CommandParameter="Add_01"  Command="{Binding LocalCommand}"/>
                            <Button Content="↑ 0.01" CommandParameter="Add_1"  Command="{Binding LocalCommand}"/>
                            <Button Content="↑ 0.1" CommandParameter="Add_10"  Command="{Binding LocalCommand}"/>
                            <Button Content="↑ 1" CommandParameter="Add_100"  Command="{Binding LocalCommand}"/>

                        </StackPanel>
                        <StackPanel Orientation="Vertical"  Grid.Column="1" Visibility="{Binding ElementName=AdjustPhiI,Path=IsChecked,Converter={StaticResource BoolToVisibilityConverter}}">
                            <Button Content="↓ 0.0001"   CommandParameter="Cut_001"  Command="{Binding LocalCommand}"/>
                            <Button Content="↓ 0.001" CommandParameter="Cut_01"  Command="{Binding LocalCommand}"/>
                            <Button Content="↓ 0.01" CommandParameter="Cut_1"  Command="{Binding LocalCommand}"/>
                            <Button Content="↓ 0.1" CommandParameter="Cut_10"  Command="{Binding LocalCommand}"/>
                            <Button Content="↓ 1" CommandParameter="Cut_100"  Command="{Binding LocalCommand}"/>

                        </StackPanel>
                        <StackPanel Orientation="Horizontal"  Grid.Row="1" Grid.ColumnSpan="2"
                                        HorizontalAlignment="Center" Margin="5"
                                         Visibility="{Binding ElementName=AdjustPhiI,Path=IsChecked,Converter={StaticResource BoolToVisibilityConverter}}">
                            <TextBox Text="{Binding ZoomX}" Width="78"  Margin="3"
                                     VerticalAlignment="Bottom"
                                     MaxLines="1" MaxLength="8"/>
                            <TextBlock Text="°" Width="8" VerticalAlignment="Center"/>
                            <Button Content="↑" Width="58"  CommandParameter="Add_X"  Command="{Binding LocalCommand}"/>
                            <Button Content="↓" Width="58"  CommandParameter="Cut_X"  Command="{Binding LocalCommand}"/>
                        </StackPanel>

                    </Grid>
                </Grid>

            </GroupBox>
        </Grid>




        <Grid Grid.Row="1" Name="StdData">

            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="150"/>
            </Grid.ColumnDefinitions>

            <GroupBox Grid.Column =" 0"      Header="标准表表示值" >
                <Grid Background="White" Margin="0,0,0,0.4" >
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.Resources>
                        <Style TargetType="TextBlock">
                            <Setter Property="Foreground" Value="Black" />
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                            <Setter Property="FontSize" Value="14"/>
                        </Style>
                    </Grid.Resources>

                    <!--<Line X1="0" Y1="0" X2="100" Y2="42" Stroke="Black" StrokeThickness="1"></Line>-->

                    <!--<Border Grid.Row="1" Grid.RowSpan="3" BorderThickness="0 0 1 0" BorderBrush="Black"/>
                    <Border Grid.Row="1" Grid.Column="8" Grid.RowSpan="3" BorderThickness="0 0 1 0" BorderBrush="Black"/>-->

                    <TextBlock Text="电压(V)"  Grid.Row="0"  Grid.Column=" 1" FontSize="12"  Foreground="#2E2EFE" />
                    <TextBlock Text="电流(A)"  Grid.Row="0"  Grid.Column=" 2" FontSize="12"  Foreground="#2E2EFE" />
                    <TextBlock Text="有功(W)"  Grid.Row="0"  Grid.Column=" 3" FontSize="12"  Foreground="#2E2EFE" />
                    <TextBlock Text="无功(Va)" Grid.Row="0"  Grid.Column=" 4" FontSize="12"  Foreground="#2E2EFE" />
                    <TextBlock Text="视在(W)"  Grid.Row="0"  Grid.Column=" 5" FontSize="12"  Foreground="#2E2EFE" />
                    <TextBlock Text="相角(°)" Grid.Row="0"  Grid.Column=" 6" FontSize="12"  Foreground="#2E2EFE" />
                    <TextBlock Text="功率因数" Grid.Row="0"  Grid.Column=" 7" FontSize="12"  Foreground="#2E2EFE" />
                    <TextBlock Text="频率(Hz)" Grid.Row="0"  Grid.Column=" 8" FontSize="12"  Foreground="#2E2EFE" />

                    <TextBlock Text="A相" Grid.Row="1"  FontSize="12"  Foreground="#AEB404" />
                    <TextBlock Text="B相" Grid.Row="2"  FontSize="12"  Foreground="Green" />
                    <TextBlock Text="C相" Grid.Row="3"  FontSize="12"  Foreground="red" />

                    <!--A相数据-->
                    <TextBlock Grid.Row="1"   Grid.Column="1"  Foreground="#AEB404" Text="{Binding Ua,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="1"   Grid.Column="2"  Foreground="#AEB404" Text="{Binding Ia,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="1"   Grid.Column="3"  Foreground="#AEB404" FontSize="12" Text="{Binding Pa,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="1"   Grid.Column="4"  Foreground="#AEB404" FontSize="12"  Text="{Binding Qa,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="1"   Grid.Column="5"  Foreground="#AEB404" FontSize="12"  Text="{Binding Sa,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="1"   Grid.Column="6"  Foreground="#AEB404" FontSize="12"  Text="{Binding PhaseA, StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="1"   Grid.Column="7"  Foreground="#AEB404" Text="{Binding PF,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="1"   Grid.Column="8"  Foreground="#AEB404" FontSize="12"  Text="{Binding Freq,    StringFormat=\{0:F4\}}"/>

                    <!--B相数据-->
                    <TextBlock Grid.Row="2"   Grid.Column="1"  Foreground="Green" Text="{Binding Ub,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="2"   Grid.Column="2"  Foreground="Green" Text="{Binding Ib,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="2"   Grid.Column="3"  Foreground="Green" FontSize="12"  Text="{Binding Pb,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="2"   Grid.Column="4"  Foreground="Green" FontSize="12"  Text="{Binding Qb,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="2"   Grid.Column="5"  Foreground="Green" FontSize="12"  Text="{Binding Sb,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="2"   Grid.Column="6"  Foreground="Green" FontSize="12"  Text="{Binding PhaseB, StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="2"   Grid.Column="7"  Foreground="Green" Text="{Binding PF,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="2"   Grid.Column="8"  Foreground="Green" FontSize="12"  Text="{Binding Freq,    StringFormat=\{0:F4\}}"/>

                    <!--C相数据-->
                    <TextBlock Grid.Row="3"   Grid.Column="1"  Foreground="red" Text="{Binding Uc,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="3"   Grid.Column="2"  Foreground="red" Text="{Binding Ic,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="3"   Grid.Column="3"  Foreground="red" FontSize="12"  Text="{Binding Pc,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="3"   Grid.Column="4"  Foreground="red" FontSize="12"  Text="{Binding Qc,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="3"   Grid.Column="5"  Foreground="red" FontSize="12"  Text="{Binding Sc,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="3"   Grid.Column="6"  Foreground="red" FontSize="12"  Text="{Binding PhaseC, StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="3"   Grid.Column="7"  Foreground="red" Text="{Binding PF,      StringFormat=\{0:F4\}}"/>
                    <TextBlock Grid.Row="3"   Grid.Column="8"  Foreground="red" FontSize="12"  Text="{Binding Freq,    StringFormat=\{0:F4\}}"/>

                    <!--总功率-->
                    <TextBlock Text="总有功" Grid.Row="1"  Grid.Column=" 9" FontSize="12"  Foreground="#2E2EFE" />
                    <TextBlock Text="总无功" Grid.Row="2"  Grid.Column=" 9" FontSize="12"  Foreground="#2E2EFE" />
                    <TextBlock Text="总视在" Grid.Row="3"  Grid.Column=" 9" FontSize="12"  Foreground="#2E2EFE" />

                    <TextBlock  Grid.Row="1"  Grid.Column="10" FontSize="12"  Text="{Binding P, StringFormat=\{0:F4\}}"/>
                    <TextBlock  Grid.Row="2"  Grid.Column="10" FontSize="12"  Text="{Binding Q, StringFormat=\{0:F4\}}"/>
                    <TextBlock  Grid.Row="3"  Grid.Column="10" FontSize="12"  Text="{Binding S, StringFormat=\{0:F4\}}"/>

                    <Image Source="/Images/PowerOk.png"  Grid.Row="0"  Grid.Column="9" Grid.RowSpan="2" Visibility="{Binding IsPowerOkVisible,Converter={StaticResource BoolToVisibilityConverter}}" />
                </Grid>
            </GroupBox>


            <GroupBox Header="矢量图" Grid.Column="1"  >
                <GroupBox.Resources>
                    <Style TargetType="TextBlock">
                        <Setter Property="Width" Value="11.5" />
                        <Setter Property="FontSize" Value="8.5"/>
                        <Setter Property="TextAlignment" Value="Center"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                    </Style>
                    <Style TargetType="StackPanel">
                        <Setter Property="Width" Value="10.5" />
                        <Setter Property="Margin" Value="5"/>
                        <Setter Property="Orientation" Value="Vertical"/>
                    </Style>
                </GroupBox.Resources>
                <Grid Width="131" Height="131" >
                    <Border  BorderBrush="Black" BorderThickness="0.5" CornerRadius="66"/>
                    <Border  BorderBrush="Black" Width="65.5" BorderThickness=" 0 0 0.5 0" HorizontalAlignment="Left" />
                    <Border  BorderBrush="Black" Height="65.5" BorderThickness=" 0 0 0 0.5 "  VerticalAlignment="Top" />


                    <!--Ua-->
                    <StackPanel   Visibility="{Binding IsVisibleUA,Converter={StaticResource BoolToVisibilityConverter}}">
                        <TextBlock Text="Ua"   Foreground="red" FontStretch="SemiExpanded" />
                        <Border Background="red" Width="1" Height="52" VerticalAlignment="Center"  HorizontalAlignment="Center" />
                        <StackPanel.RenderTransform>
                            <!--<RotateTransform  CenterX="5.25" CenterY="60.5" Angle="60" />-->
                            <RotateTransform  CenterX="5.25" CenterY="60.5" Angle="{Binding chart_PhaseUa}" />

                        </StackPanel.RenderTransform>
                    </StackPanel>
                    <!--Ia-->
                    <StackPanel   Visibility="{Binding IsVisibleIA,Converter={StaticResource BoolToVisibilityConverter}}">
                        <TextBlock Text="Ia"  Margin="0 5 0 0"  Foreground="red"/>
                        <Border Background="red" Width="1" Height="47" VerticalAlignment="Center"  HorizontalAlignment="Center"/>
                        <StackPanel.RenderTransform>
                            <RotateTransform  CenterX="5.25" CenterY="60.5" Angle="{Binding chart_PhaseIa}" />
                        </StackPanel.RenderTransform>
                    </StackPanel>


                    <!--Ub-->
                    <StackPanel   Visibility="{Binding IsVisibleUB,Converter={StaticResource BoolToVisibilityConverter}}">
                        <TextBlock Text="Ub"   Foreground="Green"/>
                        <Border Background="Green" Width="1" Height="52" VerticalAlignment="Center"  HorizontalAlignment="Center"/>
                        <StackPanel.RenderTransform>
                            <RotateTransform  CenterX="5.25" CenterY="60.5" Angle="{Binding chart_PhaseUb}" />
                        </StackPanel.RenderTransform>
                    </StackPanel>
                    <!--Ib-->
                    <StackPanel  Visibility="{Binding IsVisibleIB,Converter={StaticResource BoolToVisibilityConverter}}">
                        <TextBlock Text="Ib" Margin="0 5 0 0" Foreground="Green"/>
                        <Border Background="Green" Width="1" Height="47" VerticalAlignment="Center"  HorizontalAlignment="Center"/>
                        <StackPanel.RenderTransform>
                            <RotateTransform  CenterX="5.25" CenterY="60.5" Angle="{Binding chart_PhaseIb}"  />
                        </StackPanel.RenderTransform>
                    </StackPanel>

                    <!--Uc-->
                    <StackPanel  Visibility="{Binding IsVisibleUC,Converter={StaticResource BoolToVisibilityConverter}}">
                        <TextBlock Text="Uc"  Foreground="#AEB404"/>
                        <Border Background="#AEB404" Width="1" Height="52" VerticalAlignment="Center"  HorizontalAlignment="Center"/>
                        <StackPanel.RenderTransform>
                            <RotateTransform  CenterX="5.25" CenterY="60.5" Angle="{Binding chart_PhaseUc}"  />
                        </StackPanel.RenderTransform>
                    </StackPanel>
                    <!--Ic-->
                    <StackPanel  Visibility="{Binding IsVisibleIC,Converter={StaticResource BoolToVisibilityConverter}}">
                        <TextBlock Text="Ic" Foreground="#AEB404" Margin="0 5 0 0"/>
                        <Border Background="#AEB404"  Width="3" Height="47" VerticalAlignment="Center"  HorizontalAlignment="Center"/>
                        <StackPanel.RenderTransform>
                            <RotateTransform  CenterX="5.25" CenterY="60.5" Angle="{Binding chart_PhaseIc}"  />
                        </StackPanel.RenderTransform>
                    </StackPanel>
                    <Border  Background="Black"  Width="5" Height="5"  CornerRadius="50" Margin="0"/>
                </Grid>
            </GroupBox>
        </Grid>

    </Grid>
</basemodel:DockControlDisposable> 
