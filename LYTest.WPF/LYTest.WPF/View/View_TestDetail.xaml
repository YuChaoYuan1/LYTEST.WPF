<basemodel:DockControlDisposable 
              xmlns:basemodel="clr-namespace:LYTest.WPF.Model"
              x:Class="LYTest.WPF.View.View_TestDetail"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:LYTest.WPF.View" 
             xmlns:Converter="clr-namespace:LYTest.WPF.Converter"
             mc:Ignorable="d" 
             Foreground="{DynamicResource 字体颜色标准}"
             d:DesignHeight="600" d:DesignWidth="1100">
    <basemodel:DockControlDisposable.Resources>
        <Converter:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </basemodel:DockControlDisposable.Resources>
    <Grid Name="gridRoot">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="350"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition  Height="auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <Grid Height="auto" Margin="1" Visibility="Visible">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="250"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="方案:" Margin="5 0  0 0"   Foreground="{DynamicResource 字体颜色标准}"/>
                <ComboBox 
                Margin="5,0"     Grid.Column="1"
				x:Name="comboBoxSchema"
				HorizontalAlignment="Stretch"
				ItemsSource="{Binding Schemas}"
				SelectedItem="{Binding SelectedSchema, Mode=TwoWay}"
				VerticalAlignment="Center"
				Style="{DynamicResource StyleComboBox}"  >
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding SCHEMA_NAME}" ToolTip="{Binding SCHEMA_NAME}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Button Margin="3,0" Grid.Column="2"
                    Name="buttonRefresh"
                    VerticalAlignment="Center"
                    Click="Button_Click_Refresh"
                    ToolTip="{DynamicResource 刷新方案}">
                    <Image Width="16"  Source="/Images/Refresh.png"/>
                </Button>
            </Grid>

            <basemodel:GridLineDecorator Grid.Row="1"     ClipToBounds="True"
                                     GridLineBrush="{DynamicResource 边框颜色}"
                                     x:Name="decorator1">
                <TreeView x:Name="treeScheme" Margin="3"
                      Style="{StaticResource TreeViewStyleResultSummary1}"
			          SelectedItemChanged="TreeScheme_SelectionChanged"
			          ItemsSource="{Binding Categories}"
                      BorderThickness="1"
			          HorizontalAlignment="Stretch">
                    <TreeView.ItemTemplate>
                        <HierarchicalDataTemplate ItemsSource="{Binding Children}"/>
                    </TreeView.ItemTemplate>
                    <TreeView.ContextMenu>
                        <ContextMenu MenuItem.Click="Click_SchemaExpand">
                            <MenuItem x:Name="menuExpand" Header="展开方案树"/>
                            <MenuItem x:Name="menuCollapsed" Header="折叠方案树"/>
                            <MenuItem x:Name="clearData" Header="清除本项实验数据"/>
                            <MenuItem x:Name="setResoultOK" Header="本项实验手动合格"/>
                            <MenuItem x:Name="setResoultNO" Header="本项实验手动不合格"/>
                        </ContextMenu>
                    </TreeView.ContextMenu>
                </TreeView>
            </basemodel:GridLineDecorator>
        </Grid>

        
        
        <DataGrid Name="dataGridCheck"
                  Style="{StaticResource dataGridStyleDetailResult}"
                          Margin="3"
                          Grid.Column="1"
                          ItemsSource="{Binding DetailResultView}">
            <DataGrid.Columns>
                <DataGridCheckBoxColumn
                        Header="要检" Width="auto"
                        Binding="{Binding 要检}"
                        IsReadOnly="True"
						CanUserResize="False">
                    <DataGridCheckBoxColumn.CellStyle>
                        <Style TargetType="DataGridCell">
                            <Setter Property="IsEnabled" Value="False"/>
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                        </Style>
                    </DataGridCheckBoxColumn.CellStyle>
                </DataGridCheckBoxColumn>
            </DataGrid.Columns>
            <DataGrid.ContextMenu >
                <ContextMenu Name="setReoultMenu"  StaysOpen="True" />
                <!--<MenuItem Header="编辑" Click="MenuItem_Click" Name="menuReoult" />
                    <MenuItem Header="解析" Click="MenuItem_Click2" Name="menuAnalyze" />-->

            </DataGrid.ContextMenu>
        </DataGrid>
        <GridSplitter Width="3" 
                      Background="{DynamicResource 分隔条颜色}"
                      HorizontalAlignment="Right"/>
    </Grid>
</basemodel:DockControlDisposable> 
